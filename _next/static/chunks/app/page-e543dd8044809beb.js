(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2521:(e,t,s)=>{Promise.resolve().then(s.bind(s,7146))},7146:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>eu});var a=s(5155),r=s(2115),n=s(7481),i=s(514),l=s(85),o=s(6424),c=s(1754),d=s(3934);function m(e){let{tasks:t,projectName:s,onTaskAdd:r,onTaskUpdate:n,onTaskDelete:i,onTaskHistoryView:l,onTaskStatusUpdate:m}=e;return(0,a.jsxs)("main",{className:"flex-1 flex flex-col p-4 md:p-6 lg:p-8 w-full bg-white rounded-b-lg overflow-hidden",children:[(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)(c.e,{projectName:s,onTaskAdd:r})}),(0,a.jsx)(o.F,{className:"flex-1 -mx-4 px-4",children:(0,a.jsx)("div",{className:"space-y-0 pb-4",children:t.length>0?t.map(e=>(0,a.jsx)(d.L,{task:e,onHistoryClick:l,onUpdate:n,onDelete:i,onStatusUpdate:m},e.id)):(0,a.jsxs)("div",{className:"text-center py-16",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-foreground",children:"No tasks yet!"}),(0,a.jsx)("p",{className:"text-muted-foreground mt-1",children:"Add a task above to get started."})]})})})]})}var x=s(4729),p=s(8184),u=s(4165),h=s(6695),j=s(6126),f=s(9434);let g=r.forwardRef((e,t)=>{let{className:s,type:r,...n}=e;return(0,a.jsx)("input",{type:r,className:(0,f.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...n})});g.displayName="Input";var v=s(285),N=s(8603),w=s(5943),y=s(8376),b=s(9968),k=s(7223),C=s(593),A=s(6923),E=s(8718);let T=e=>(0,p.GP)(e,"dd/MM/yy HH:mm"),S=e=>e?"...".concat(e.slice(-4)):null,L=e=>{let t=S(e.taskId);switch(e.type){case"created":return{icon:(0,a.jsx)(N.A,{className:"h-4 w-4 text-green-500"}),title:(0,a.jsxs)("p",{className:"font-medium",children:["Task Created: ",(0,a.jsxs)("span",{className:"font-normal text-muted-foreground",children:['"',e.taskContent,'"']})]}),description:t&&(0,a.jsx)(j.E,{variant:"outline",className:"font-mono",children:t})};case"content":return{icon:(0,a.jsx)(w.A,{className:"h-4 w-4 text-blue-500"}),title:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("p",{className:"font-medium",children:"Task Updated"}),t&&(0,a.jsx)(j.E,{variant:"outline",className:"font-mono",children:t})]}),description:(0,a.jsxs)("p",{className:"text-sm text-muted-foreground break-words whitespace-pre-wrap",children:["Changed from ",(0,a.jsxs)("span",{className:"line-through",children:['"',e.from,'"']})," to ",(0,a.jsxs)("span",{children:['"',e.to,'"']})]})};case"status":return{icon:(0,a.jsx)(y.A,{className:"h-4 w-4 text-purple-500"}),title:(0,a.jsxs)("p",{className:"font-medium",children:["Status Changed for: ",(0,a.jsxs)("span",{className:"font-normal text-muted-foreground",children:['"',e.taskContent,'"']})]}),description:(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,a.jsx)(j.E,{variant:"outline",children:e.from}),(0,a.jsx)(b.A,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)(j.E,{variant:"outline",children:e.to}),t&&(0,a.jsx)(j.E,{variant:"outline",className:"font-mono",children:t})]})};case"deleted":return{icon:(0,a.jsx)(k.A,{className:"h-4 w-4 text-red-500"}),title:(0,a.jsxs)("p",{className:"font-medium",children:["Task Deleted: ",(0,a.jsxs)("span",{className:"font-normal text-muted-foreground line-through",children:['"',e.taskContent,'"']})]}),description:t&&(0,a.jsx)(j.E,{variant:"outline",className:"font-mono",children:t})};case"reported":return{icon:(0,a.jsx)(C.A,{className:"h-4 w-4 text-gray-500"}),title:(0,a.jsxs)("p",{className:"font-medium",children:["Task Reported: ",(0,a.jsxs)("span",{className:"font-normal text-muted-foreground",children:['"',e.taskContent,'"']})]}),description:t&&(0,a.jsx)(j.E,{variant:"outline",className:"font-mono",children:t})};default:return{icon:null,title:null,description:null}}};function I(e){let{isOpen:t,setIsOpen:s,activity:i=[],onActivityImport:l}=e,{toast:c}=(0,n.dj)(),[d,m]=(0,r.useState)(""),x=(0,r.useRef)(null),j=(0,r.useMemo)(()=>{if(!d)return i;let e=d.toLowerCase();return i.filter(t=>{var s,a,r;let n=T(new Date(t.timestamp)).toLowerCase(),i=t.type.toLowerCase(),l=t.taskContent.toLowerCase(),o=null==(s=t.from)?void 0:s.toLowerCase(),c=null==(a=t.to)?void 0:a.toLowerCase(),d=null==(r=t.taskId)?void 0:r.toLowerCase();return n.includes(e)||i.includes(e)||l.includes(e)||o&&o.includes(e)||c&&c.includes(e)||d&&d.includes(e)})},[d,i]);return(0,a.jsx)(u.lG,{open:t,onOpenChange:s,children:(0,a.jsxs)(u.Cf,{className:"max-w-3xl",children:[(0,a.jsxs)(u.c7,{children:[(0,a.jsx)(u.L3,{children:"Global Activity"}),(0,a.jsx)(u.rr,{children:"A log of all activities across the project."})]}),(0,a.jsx)("div",{className:"my-2",children:(0,a.jsx)(g,{placeholder:"Search activity by keyword or date...",value:d,onChange:e=>m(e.target.value)})}),(0,a.jsx)(o.F,{className:"max-h-[60vh] -mx-6 px-6",children:(0,a.jsx)("div",{className:"space-y-4 py-4",children:j.length>0?[...j].sort((e,t)=>new Date(t.timestamp).getTime()-new Date(e.timestamp).getTime()).map(e=>{let{icon:t,title:s,description:r}=L(e);return(0,a.jsx)(h.Zp,{className:"p-4 bg-muted/50",children:(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[(0,a.jsx)("div",{className:"mt-1",children:t}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsx)("div",{className:"flex-1",children:s}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mb-1 ml-4 flex-shrink-0",children:T(new Date(e.timestamp))})]}),r&&(0,a.jsx)("div",{className:"mt-1",children:r})]})]})},e.id)}):(0,a.jsx)("p",{className:"text-sm text-muted-foreground text-center py-12",children:d?"No activity found for your search.":"No activity has been recorded yet."})})}),(0,a.jsxs)(u.Es,{className:"gap-2",children:[(0,a.jsx)("input",{type:"file",accept:".json",ref:x,onChange:e=>{var t;let a=null==(t=e.target.files)?void 0:t[0];if(!a)return;let r=new FileReader;r.onload=e=>{try{var t;let a=null==(t=e.target)?void 0:t.result;if("string"!=typeof a)throw Error("File could not be read.");let r=JSON.parse(a);if(!Array.isArray(r)||!r.every(e=>"id"in e&&"timestamp"in e&&"type"in e&&"taskContent"in e))throw Error("Invalid activity file format. The 'taskId' property might be missing in some entries.");l(r),c({title:"Success",description:"Activity log merged successfully."}),s(!1)}catch(e){console.error("Failed to import activity log:",e),c({title:"Import Failed",description:e instanceof Error?e.message:"An unknown error occurred.",variant:"destructive"})}},r.onerror=()=>{c({title:"Error",description:"Failed to read the file.",variant:"destructive"})},r.readAsText(a),e.target&&(e.target.value="")},className:"hidden"}),(0,a.jsxs)(v.$,{variant:"outline",onClick:()=>{var e;null==(e=x.current)||e.click()},children:[(0,a.jsx)(A.A,{className:"mr-2 h-4 w-4"}),"Importar desde JSON"]}),(0,a.jsxs)(v.$,{variant:"outline",onClick:()=>{if(0===i.length)return;let e="data:application/json;charset=utf-8,"+encodeURIComponent(JSON.stringify([...i].sort((e,t)=>new Date(e.timestamp).getTime()-new Date(t.timestamp).getTime()),null,2)),t="activity_log_".concat((0,p.GP)(new Date,"yyyy-MM-dd"),".json"),s=document.createElement("a");s.setAttribute("href",e),s.setAttribute("download",t),s.click()},disabled:0===i.length,children:[(0,a.jsx)(E.A,{className:"mr-2 h-4 w-4"}),"Exportar como JSON"]})]})]})})}var P=s(968);let D=(0,s(2085).F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),F=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(P.b,{ref:t,className:(0,f.cn)(D(),s),...r})});F.displayName=P.b.displayName;var O=s(4059),z=s(154);let R=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(O.bL,{className:(0,f.cn)("grid gap-2",s),...r,ref:t})});R.displayName=O.bL.displayName;let U=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(O.q7,{ref:t,className:(0,f.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),...r,children:(0,a.jsx)(O.C1,{className:"flex items-center justify-center",children:(0,a.jsx)(z.A,{className:"h-2.5 w-2.5 fill-current text-current"})})})});U.displayName=O.q7.displayName;var $=s(7489);let _=r.forwardRef((e,t)=>{let{className:s,orientation:r="horizontal",decorative:n=!0,...i}=e;return(0,a.jsx)($.b,{ref:t,decorative:n,orientation:r,className:(0,f.cn)("shrink-0 bg-border","horizontal"===r?"h-[1px] w-full":"h-full w-[1px]",s),...i})});function H(e){let{isOpen:t,setIsOpen:s,settings:n,onSettingsSave:i}=e,[l,o]=(0,r.useState)(n.copyFormat),[c,d]=(0,r.useState)(n.statusColors);(0,r.useEffect)(()=>{t&&(o(n.copyFormat),d(n.statusColors))},[t,n]);let m=(e,t)=>{d(s=>({...s,[e]:t}))};return(0,a.jsx)(u.lG,{open:t,onOpenChange:s,children:(0,a.jsxs)(u.Cf,{className:"max-w-md",children:[(0,a.jsxs)(u.c7,{children:[(0,a.jsx)(u.L3,{children:"Configuraci\xf3n"}),(0,a.jsx)(u.rr,{children:"Personaliza el comportamiento de la aplicaci\xf3n."})]}),(0,a.jsxs)("div",{className:"py-4 space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-sm font-medium",children:"Formato de Copiado de Tareas"}),(0,a.jsxs)(R,{value:l,onValueChange:e=>o(e),children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(U,{value:"text",id:"text"}),(0,a.jsx)(F,{htmlFor:"text",children:"Texto plano"})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground ml-6",children:"Ideal para pegar en editores simples o donde no se necesita formato."}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(U,{value:"html",id:"html"}),(0,a.jsx)(F,{htmlFor:"html",children:"Texto enriquecido (HTML)"})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground ml-6",children:"Mantiene colores y negrita. Ideal para Teams, Word, o Google Docs."})]})]}),(0,a.jsx)(_,{}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-sm font-medium",children:"Colores de Estado para Copiado HTML"}),(0,a.jsx)("div",{className:"space-y-2",children:Object.keys(c).map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,a.jsx)(F,{htmlFor:"color-".concat(e),children:e}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(g,{id:"color-".concat(e),type:"color",value:c[e],onChange:t=>m(e,t.target.value),className:"w-10 h-10 p-1"}),(0,a.jsx)(g,{value:c[e],onChange:t=>m(e,t.target.value),className:"w-24 font-mono text-sm"})]})]},e))})]})]}),(0,a.jsxs)(u.Es,{children:[(0,a.jsx)(v.$,{variant:"outline",onClick:()=>s(!1),children:"Cancelar"}),(0,a.jsx)(v.$,{onClick:()=>{i({copyFormat:l,statusColors:c}),s(!1)},children:"Guardar Cambios"})]})]})})}_.displayName=$.b.displayName;var M=s(4301),q=s(172),G=s(518),J=s(5318),V=s(1887),Z=s(8271),B=s(207),Y=s(478),K=s(2413),W=s(8082);let Q=W.Kq,X=W.bL,ee=W.l9,et=r.forwardRef((e,t)=>{let{className:s,sideOffset:r=4,...n}=e;return(0,a.jsx)(W.UC,{ref:t,sideOffset:r,className:(0,f.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...n})});et.displayName=W.UC.displayName;var es=s(4838),ea=s(2278);let er=ea.bL;ea.l9;let en=ea.ZL,ei=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(ea.hJ,{className:(0,f.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...r,ref:t})});ei.displayName=ea.hJ.displayName;let el=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsxs)(en,{children:[(0,a.jsx)(ei,{}),(0,a.jsx)(ea.UC,{ref:t,className:(0,f.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...r})]})});el.displayName=ea.UC.displayName;let eo=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,f.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...s})};eo.displayName="AlertDialogHeader";let ec=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,f.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s})};ec.displayName="AlertDialogFooter";let ed=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(ea.hE,{ref:t,className:(0,f.cn)("text-lg font-semibold",s),...r})});ed.displayName=ea.hE.displayName;let em=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(ea.VY,{ref:t,className:(0,f.cn)("text-sm text-muted-foreground",s),...r})});em.displayName=ea.VY.displayName;let ex=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(ea.rc,{ref:t,className:(0,f.cn)((0,v.r)(),s),...r})});ex.displayName=ea.rc.displayName;let ep=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(ea.ZD,{ref:t,className:(0,f.cn)((0,v.r)({variant:"outline"}),"mt-2 sm:mt-0",s),...r})});function eu(){let{toast:e}=(0,n.dj)(),[t,s]=(0,r.useState)(null),[o,c]=(0,r.useState)(!1),[d,p]=(0,r.useState)(""),[u,h]=(0,r.useState)(null),[j,f]=(0,r.useState)(!1),[N,w]=(0,r.useState)(!1),[y,b]=(0,r.useState)(!1),[A,E]=(0,r.useState)(!1),[T,S]=(0,r.useState)(!1),[L,P]=(0,r.useState)(""),D=null==t?void 0:t.projects.find(e=>e.id===t.activeProjectId),F=function(e,t){let s=(0,r.useCallback)(e=>{t(e),(0,i.ZL)(e)},[t]),a=(0,r.useCallback)(t=>{if(!e||!t.trim())return;let a={id:"proj-".concat(Date.now()),name:t.trim(),tasks:[],activity:[]},r=[...e.projects,a];s({...e,projects:r})},[e,s]),n=(0,r.useCallback)(t=>{var a;if(!e)return;let r=e.projects.filter(e=>e.id!==t),n=e.activeProjectId===t?(null==(a=r[0])?void 0:a.id)||null:e.activeProjectId;s({...e,projects:r,activeProjectId:n})},[e,s]);return{createProject:a,deleteProject:n,setActiveProject:(0,r.useCallback)(t=>{e&&s({...e,activeProjectId:t})},[e,s]),renameProject:(0,r.useCallback)((t,a)=>{if(!e||!a.trim())return;let r=e.projects.map(e=>e.id===t?{...e,name:a.trim()}:e);s({...e,projects:r})},[e,s])}}(t,s),O=(0,l.I)(t,D||null,s);(0,r.useEffect)(()=>{s((0,i.Y2)());let e=e=>{"app-data"===e.key&&s((0,i.Y2)())};return window.addEventListener("storage",e),()=>{window.removeEventListener("storage",e)}},[]),(0,r.useEffect)(()=>{D&&p(D.name)},[D]);let z=e=>{s(e),(0,i.ZL)(e)},R=()=>{d.trim()&&D&&t&&F.renameProject(D.id,d.trim()),c(!1)},U=(e,t)=>{let s=e.map(e=>"".concat("Listo"===e.status?"[x]":"[ ]"," ").concat(e.content," -> ").concat(e.status.toUpperCase())).join("\n"),a="".concat(t,"\n\n").concat(s);return navigator.clipboard.writeText(a)},$=(e,t,s)=>{let{statusColors:a}=s,r=e.map(e=>{let t="Listo"===e.status?"<b>[x]</b>":"[ ]",s=e.content,r='<b style="color: '.concat(a[e.status],';">').concat(e.status.toUpperCase(),"</b>");return"<p>".concat(t," ").concat(s," -&gt; ").concat(r,"</p>")}).join(""),n=new ClipboardItem({"text/html":new Blob(["\n      <div>\n        <p><b>".concat(t,"</b></p>\n        ").concat(r,"\n      </div>\n    ")],{type:"text/html"})});return navigator.clipboard.write([n])},_=()=>{if(!t)return;let s={id:"project-".concat(Date.now()),name:"Project ".concat(t.projects.length+1),tasks:[],activity:[]};F.createProject(s.name),c(!0),p(s.name),e({title:'Project "'.concat(s.name,'" created')})},W=s=>{if(t&&s!==t.activeProjectId){var a;F.setActiveProject(s),e({title:'Switched to project "'.concat(null==(a=t.projects.find(e=>e.id===s))?void 0:a.name,'"')})}};return t&&D?(0,a.jsxs)("div",{className:"bg-neutral-950 min-h-screen flex flex-col items-center py-8",children:[(0,a.jsxs)("div",{className:"w-full max-w-4xl bg-white rounded-lg shadow-2xl flex flex-col h-[calc(100vh-4rem)]",children:[(0,a.jsx)("header",{className:"w-full flex items-center justify-between p-4 md:p-6 lg:p-8 border-b",children:o?(0,a.jsxs)("div",{className:"flex items-center gap-2 w-full",children:[(0,a.jsx)(g,{value:d,onChange:e=>p(e.target.value),onKeyDown:e=>{"Enter"===e.key&&R(),"Escape"===e.key&&(p((null==D?void 0:D.name)||""),c(!1))},className:"text-3xl font-bold tracking-tight h-auto p-0 border-none focus-visible:ring-0",autoFocus:!0,onFocus:e=>e.currentTarget.select()}),(0,a.jsx)(v.$,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:R,children:(0,a.jsx)(G.A,{className:"h-5 w-5"})}),(0,a.jsx)(v.$,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>{p(D.name),c(!1)},children:(0,a.jsx)(J.A,{className:"h-5 w-5"})})]}):(0,a.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold tracking-tight text-foreground cursor-pointer",onClick:()=>{p(D.name),c(!0)},children:D.name}),(0,a.jsxs)(es.rI,{children:[(0,a.jsx)(es.ty,{asChild:!0,children:(0,a.jsx)(v.$,{variant:"ghost",size:"icon",children:(0,a.jsx)(V.A,{className:"h-4 w-4"})})}),(0,a.jsxs)(es.SQ,{align:"start",children:[t.projects.map(e=>(0,a.jsxs)(es._2,{onSelect:()=>W(e.id),children:[e.name,e.id===t.activeProjectId&&(0,a.jsx)(G.A,{className:"ml-auto h-4 w-4"})]},e.id)),(0,a.jsx)(es.mB,{}),(0,a.jsxs)(es._2,{onSelect:_,children:[(0,a.jsx)(M.A,{className:"mr-2 h-4 w-4"}),"A\xf1adir nuevo proyecto"]}),(0,a.jsx)(es.mB,{}),(0,a.jsxs)(es._2,{onSelect:()=>S(!0),className:"text-destructive focus:bg-destructive/10 focus:text-destructive",disabled:t.projects.length<=1,children:[(0,a.jsx)(k.A,{className:"mr-2 h-4 w-4"}),"Eliminar proyecto"]})]})]})]}),(0,a.jsx)(Q,{children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsxs)(X,{children:[(0,a.jsx)(ee,{asChild:!0,children:(0,a.jsxs)(v.$,{variant:"ghost",size:"icon",onClick:()=>b(!0),children:[(0,a.jsx)(Z.A,{className:"h-5 w-5"}),(0,a.jsx)("span",{className:"sr-only",children:"Configuraci\xf3n"})]})}),(0,a.jsx)(et,{children:(0,a.jsx)("p",{children:"Configuraci\xf3n"})})]}),(0,a.jsxs)(X,{children:[(0,a.jsx)(ee,{asChild:!0,children:(0,a.jsxs)(v.$,{variant:"ghost",size:"icon",onClick:()=>w(!0),children:[(0,a.jsx)(B.A,{className:"h-5 w-5"}),(0,a.jsx)("span",{className:"sr-only",children:"Ver actividad general"})]})}),(0,a.jsx)(et,{children:(0,a.jsx)("p",{children:"Ver actividad general"})})]}),(0,a.jsxs)(X,{children:[(0,a.jsx)(ee,{asChild:!0,children:(0,a.jsxs)(v.$,{variant:"ghost",size:"icon",onClick:()=>{if(!t||!D||0===D.tasks.length)return void e({title:"No hay tareas para copiar",description:"A\xf1ade algunas tareas antes de copiar."});let s={Listo:1,"En proceso":2,Pendiente:3},a=[...D.tasks].sort((e,t)=>s[e.status]-s[t.status]);("html"===t.settings.copyFormat?$(a,D.name,t.settings):U(a,D.name)).then(()=>{e({title:"Tareas copiadas",description:"La lista de tareas ha sido copiada al portapapeles."})}).catch(t=>{console.error("Failed to copy tasks: ",t),e({title:"Error",description:"No se pudieron copiar las tareas.",variant:"destructive"})})},children:[(0,a.jsx)(Y.A,{className:"h-5 w-5"}),(0,a.jsx)("span",{className:"sr-only",children:"Copiar tareas"})]})}),(0,a.jsx)(et,{children:(0,a.jsx)("p",{children:"Copiar lista de tareas"})})]}),(0,a.jsxs)(X,{children:[(0,a.jsx)(ee,{asChild:!0,children:(0,a.jsxs)(v.$,{variant:"ghost",size:"icon",onClick:()=>E(!0),children:[(0,a.jsx)(C.A,{className:"h-5 w-5"}),(0,a.jsx)("span",{className:"sr-only",children:"Informar tareas"})]})}),(0,a.jsx)(et,{children:(0,a.jsx)("p",{children:"Informar tareas (eliminar las completadas)"})})]}),(0,a.jsxs)(X,{children:[(0,a.jsx)(ee,{asChild:!0,children:(0,a.jsxs)(v.$,{variant:"ghost",size:"icon",onClick:()=>{let e=(0,i.vH)(),t=(window.screen.height-400)/2,s=(window.screen.width-600)/2;switch(e){case"top-left":t=0,s=0;break;case"top-right":t=0,s=window.screen.width-600;break;case"bottom-left":t=window.screen.height-400,s=0;break;case"bottom-right":t=window.screen.height-400,s=window.screen.width-600}window.open(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=function(){let e=function(){let e=window.location.pathname.split("/").filter(Boolean);return e.length>0&&!e[0].includes(".")?e[0]:""}(),t=window.location.origin;return e?"".concat(t,"/").concat(e):t}(),s=e.startsWith("/")?e:"/".concat(e);return"".concat(t).concat(s)}("/popout"),"task-popout","width=".concat(600,",height=").concat(400,",top=").concat(t,",left=").concat(s))},children:[(0,a.jsx)(K.A,{className:"h-5 w-5"}),(0,a.jsx)("span",{className:"sr-only",children:"Open in new window"})]})}),(0,a.jsx)(et,{children:(0,a.jsx)("p",{children:"Abrir en nueva ventana"})})]})]})})]})}),(0,a.jsx)(m,{tasks:D.tasks,projectName:D.name,onTaskAdd:t=>{""!==t.trim()&&(O.createTask(t.trim()),e({title:"Task Added"}))},onTaskUpdate:(t,s)=>{O.updateTask(t,s),e({title:"Task Updated"})},onTaskDelete:t=>{O.deleteTask(t),e({title:"Task Deleted"})},onTaskHistoryView:e=>{h(e),f(!0)},onTaskStatusUpdate:(t,s)=>{O.updateTaskStatus(t,s),e({title:"Task Status Updated"})}})]}),(0,a.jsx)(x.R,{isOpen:j,setIsOpen:f,task:u}),(0,a.jsx)(I,{isOpen:N,setIsOpen:w,activity:D.activity,onActivityImport:e=>{if(!D||!t)return;let s=e.map(e=>({...e,timestamp:new Date(e.timestamp)})),a=new Set(D.activity.map(e=>e.id)),r=[...D.activity];s.forEach(e=>{a.has(e.id)||r.push(e)}),r.sort((e,t)=>new Date(t.timestamp).getTime()-new Date(e.timestamp).getTime());let n=t.projects.map(e=>e.id===t.activeProjectId?{...e,activity:r}:e);z({...t,projects:n})}}),(0,a.jsx)(H,{isOpen:y,setIsOpen:b,settings:t.settings,onSettingsSave:s=>{t&&(z({...t,settings:s}),e({title:"Settings saved"}))}}),(0,a.jsx)(er,{open:A,onOpenChange:E,children:(0,a.jsxs)(el,{children:[(0,a.jsxs)(eo,{children:[(0,a.jsx)(ed,{children:"\xbfEst\xe1 seguro?"}),(0,a.jsx)(em,{children:'Esta acci\xf3n eliminar\xe1 permanentemente todas las tareas marcadas como "Listo". Desapareceran las tareas terminadas de la lista.'})]}),(0,a.jsxs)(ec,{children:[(0,a.jsx)(ep,{children:"Cancelar"}),(0,a.jsx)(ex,{onClick:()=>{if(!D||!t)return;let s=D.tasks.filter(e=>"Listo"===e.status);if(0===s.length){e({title:"Sin tareas completadas",description:'No hay tareas "Listo" para eliminar.'}),E(!1);return}let a=D.tasks.filter(e=>"Listo"!==e.status),r=s.map(e=>({id:"act-".concat(Date.now(),"-").concat(e.id),taskId:e.id,timestamp:new Date,type:"reported",taskContent:e.content})),n=t.projects.map(e=>e.id===t.activeProjectId?{...e,tasks:a,activity:[...r,...e.activity]}:e);z({...t,projects:n}),e({title:"Tareas informadas",description:"".concat(s.length," tarea(s) completada(s) ha(n) sido archivada(s).")}),E(!1)},children:"Confirmar"})]})]})}),(0,a.jsx)(er,{open:T,onOpenChange:S,children:(0,a.jsxs)(el,{children:[(0,a.jsxs)(eo,{children:[(0,a.jsxs)(ed,{children:['\xbfEst\xe1 seguro que quiere eliminar el proyecto "',D.name,'"?']}),(0,a.jsxs)(em,{children:["Esta acci\xf3n no se puede deshacer. Se borrar\xe1n permanentemente el proyecto y todas sus tareas y actividades asociadas.",(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),"Por favor, escriba ",(0,a.jsx)("strong",{children:"delete"})," para confirmar."]})]}),(0,a.jsx)(g,{value:L,onChange:e=>P(e.target.value),placeholder:"delete",className:"my-2"}),(0,a.jsxs)(ec,{children:[(0,a.jsx)(ep,{onClick:()=>P(""),children:"Cancelar"}),(0,a.jsx)(ex,{onClick:()=>{D&&(F.deleteProject(D.id),e({title:'Project "'.concat(D.name,'" deleted')}),S(!1),P(""))},disabled:"delete"!==L.toLowerCase(),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Eliminar proyecto"})]})]})})]}):(0,a.jsx)("div",{className:"bg-neutral-950 min-h-screen flex flex-col items-center justify-center text-white",children:t&&0===t.projects.length?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"No project found"}),(0,a.jsx)("p",{className:"mt-4",children:"Please create a new project to get started."}),(0,a.jsxs)(v.$,{onClick:_,className:"mt-6",children:[(0,a.jsx)(M.A,{className:"mr-2 h-4 w-4"}),"Create New Project"]})]}):(0,a.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,a.jsx)(q.A,{className:"h-5 w-5 animate-spin"}),(0,a.jsx)("span",{children:"Loading projects..."})]})})}ep.displayName=ea.ZD.displayName}},e=>{var t=t=>e(e.s=t);e.O(0,[965,728,960,579,441,684,358],()=>t(2521)),_N_E=e.O()}]);